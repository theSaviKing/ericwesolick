---
import "@/styles/globals.css";
import og from "@/images/og.png";
import { ModeToggle } from "@/components/ModeToggle";
import Linkedin from "@/images/linkedin.astro";
import ThemeToggle from "@/components/ThemeToggle";

interface Props {
    pageTitle: string;
}
const { pageTitle } = Astro.props;
const { pathname } = Astro.url;
---

<script is:inline>
    function setScheme(document) {
        if (
            typeof localStorage !== "undefined" &&
            localStorage.getItem("scheme")
        ) {
            const isDark = localStorage.getItem("scheme") === "dark";
            document.documentElement.classList[isDark ? "add" : "remove"](
                "dark",
            );
        } else {
            const isDark = window.matchMedia(
                "(prefers-color-scheme: dark)",
            ).matches;
            document.documentElement.classList[isDark ? "add" : "remove"](
                "dark",
            );
        }
    }

    setScheme(document);

    document.addEventListener("DOMContentLoaded", (ev) =>
        setScheme(ev.newDocument),
    );
</script>

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Space+Grotesk:wght@300..700&display=swap"
            rel="stylesheet"
        />
        <!-- Primary Meta Tags -->
        <meta name="title" content="Eric Wesolick: Portfolio" />
        <meta
            name="description"
            content="Hey! I'm Eric Wesolick, a graduating Communications student at the University of Mary in Bismarck, ND. My work and ethos are proudly displayed in my portfolio. Please explore!"
        />

        <!-- Open Graph / Facebook -->
        <meta property="og:type" content="website" />
        <meta property="og:url" content="https://www.ericwesolick.com/" />
        <meta property="og:title" content="Eric Wesolick: Portfolio" />
        <meta property="og:site_name" content="Eric Wesolick: Portfolio" />
        <meta
            property="og:description"
            content="Hey! I'm Eric Wesolick, a graduating Communications student at the University of Mary in Bismarck, ND. My work and ethos are proudly displayed in my portfolio. Please explore!"
        />
        <meta
            property="og:image"
            content={`https://www.ericwesolick.com/${og.src}`}
        />

        <!-- Twitter -->
        <meta property="twitter:card" content="summary_large_image" />
        <meta property="twitter:url" content="https://www.ericwesolick.com/" />
        <meta property="twitter:title" content="Eric Wesolick: Portfolio" />
        <meta
            property="twitter:description"
            content="Hey! I'm Eric Wesolick, a graduating Communications student at the University of Mary in Bismarck, ND. My work and ethos are proudly displayed in my portfolio. Please explore!"
        />
        <meta
            property="twitter:image"
            content={`https://www.ericwesolick.com/${og.src}`}
        />
        <!-- Meta Tags Generated with https://metatags.io -->

        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <title>{`${pageTitle} | Eric Wesolick`}</title>
    </head>
    <body class="bg-background text-foreground">
        <div
            class="fixed bottom-0 right-0 z-50 mb-6 mr-6 flex scale-125 shadow-2xl sm:hidden"
        >
            <ModeToggle alignment="end" client:load />
        </div>
        <header
            class="border-divider sticky top-0 z-50 flex items-center justify-center border-b bg-background/75 px-10 py-4 backdrop-blur transition-colors duration-100 hover:bg-background sm:px-20 sm:py-6"
        >
            <div class="flex w-1/2 items-center gap-2">
                <a
                    href="/"
                    class="border border-transparent p-1 px-2 font-display transition-[border-color] duration-100 hover:border-primary"
                >
                    <span class="hidden text-2xl sm:inline">Eric Wesolick</span>
                    <span class="inline text-4xl sm:hidden">EW</span>
                </a>
                <a href="https://www.linkedin.com/in/ericwesolick/">
                    <svg
                        viewBox="0 0 24 24"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                        transform="rotate(0 0 0)"
                        class="size-6 fill-primary"
                    >
                        <title>LinkedIn</title>
                        <path
                            d="M19.7065 3H4.34844C3.62264 3 3.04199 3.58065 3.04199 4.30645V19.6935C3.04199 20.3903 3.62264 21 4.34844 21H19.6485C20.3743 21 20.9549 20.4194 20.9549 19.6935V4.27742C21.013 3.58065 20.4323 3 19.7065 3ZM8.35491 18.3H5.71297V9.73548H8.35491V18.3ZM7.01942 8.54516C6.14846 8.54516 5.4807 7.84839 5.4807 7.00645C5.4807 6.16452 6.17749 5.46774 7.01942 5.46774C7.86136 5.46774 8.55813 6.16452 8.55813 7.00645C8.55813 7.84839 7.91942 8.54516 7.01942 8.54516ZM18.371 18.3H15.7291V14.1484C15.7291 13.1613 15.7001 11.8548 14.3356 11.8548C12.942 11.8548 12.7388 12.9581 12.7388 14.0613V18.3H10.0968V9.73548H12.6807V10.9258H12.7097C13.0872 10.229 13.9291 9.53226 15.2356 9.53226C17.9356 9.53226 18.4291 11.2742 18.4291 13.6548V18.3H18.371Z"
                        ></path>
                    </svg>
                </a>
            </div>
            <div class="hidden sm:block">
                <ThemeToggle client:visible />
            </div>
            <nav class="flex w-1/2 justify-end gap-8">
                <a
                    href="/"
                    class:list={[
                        "decoration-primary underline-offset-8 transition-all will-change-auto hover:opacity-75",
                        pathname === "/" ? "underline" : "hover:underline",
                    ]}
                >
                    <span class="hidden md:inline">home page</span>
                    <span class="inline md:hidden">home</span>
                </a>
                <a
                    href="/portfolio"
                    class:list={[
                        "decoration-primary underline-offset-8 transition-all will-change-auto hover:opacity-75",
                        pathname.includes("portfolio")
                            ? "underline"
                            : "hover:underline",
                    ]}
                >
                    <span class="hidden md:inline">my portfolio</span>
                    <span class="inline md:hidden">portfolio</span>
                </a>
            </nav>
        </header>
        <main class="mx-auto lg:w-4/5">
            <slot />
        </main>
        <footer
            class="border-divider flex flex-col items-center justify-center border-t p-4 font-display lg:flex-row lg:justify-around lg:px-8 lg:py-12 lg:text-xl"
        >
            <p>
                &copy; {new Date().getFullYear()} Eric Wesolick.
            </p>
            <div class="hidden lg:block"></div>
            <a
                href="mailto:ewesolick09@gmail.com"
                class="text-center text-primary underline lg:underline-offset-4"
                >Email Eric.</a
            >
            <div class="hidden lg:block"></div>
            <p class="text-right">
                Designed by <span class="font-display">T. Paul Kariuki</span>
            </p>
        </footer>
    </body>
</html>
